# -_-_-_PAINTBALL_BATTLE_- :. 
# ğŸ¨ğŸ”« PAINTBALL BATTLE:  
**Java Swing + Oracle 19c**

<img width="1024" height="1024" alt="image" src="https://github.com/user-attachments/assets/8328b4ee-7427-4b20-80c8-0698348cf282" />  

ImplementaciÃ³n **completa, funcional y acadÃ©mica** de un juego **Paintball 2D** en Java (Swing), listo para **IntelliJ IDEA**, con persistencia real en **Oracle 19c**, uso de **Stored Procedure**, sonidos y arquitectura limpia.

---

## âœ… Caracteristicas:

- ğŸ® Juego 2D con colores llamativos  
- ğŸ”Š Sonidos y efectos (`javax.sound.sampled`)  
- ğŸ† Ranking de jugadores (SQL)  
- ğŸ—„ï¸ Persistencia en Oracle 19c  
- âš™ï¸ Stored Procedure para registro de partidas  
- ğŸ§± Arquitectura **Modelo â€“ DAO â€“ Servicio â€“ UI**  
- ğŸ“ Enfoque 100 % acadÃ©mico / profesional  

---

## ğŸ—„ï¸ 1ï¸âƒ£ Base de Datos â€“ Oracle 19c:

### ğŸ“„ Tablas

```sql
CREATE TABLE JUGADOR (
    ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    NOMBRE VARCHAR2(50)
);

CREATE TABLE PARTIDA (
    ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    JUGADOR_ID NUMBER,
    PUNTAJE NUMBER,
    DISPAROS NUMBER,
    DURACION_SEG NUMBER,
    FECHA DATE DEFAULT SYSDATE,
    CONSTRAINT FK_JUGADOR
        FOREIGN KEY (JUGADOR_ID) REFERENCES JUGADOR(ID)
);

âš™ï¸ 2ï¸âƒ£ Stored Procedure â€“ Registro de Partida
CREATE OR REPLACE PROCEDURE SP_GUARDAR_PARTIDA (
    P_JUGADOR_ID   IN NUMBER,
    P_PUNTAJE      IN NUMBER,
    P_DISPAROS     IN NUMBER,
    P_DURACION     IN NUMBER
) AS
BEGIN
    INSERT INTO PARTIDA
    (JUGADOR_ID, PUNTAJE, DISPAROS, DURACION_SEG)
    VALUES
    (P_JUGADOR_ID, P_PUNTAJE, P_DISPAROS, P_DURACION);

    COMMIT;
END;
/

ğŸ“¦ 3ï¸âƒ£ Estructura del Proyecto (IntelliJ)
paintball-game/
â”œâ”€â”€ model/
â”‚   â”œâ”€â”€ Jugador.java
â”‚   â””â”€â”€ Partida.java
â”œâ”€â”€ dao/
â”‚   â”œâ”€â”€ ConexionOracle.java
â”‚   â””â”€â”€ PartidaDAO.java
â”œâ”€â”€ service/
â”‚   â”œâ”€â”€ GameEngine.java
â”‚   â””â”€â”€ SoundPlayer.java
â”œâ”€â”€ ui/
â”‚   â”œâ”€â”€ MainFrame.java
â”‚   â””â”€â”€ GamePanel.java
â””â”€â”€ Main.java

ğŸ§± 4ï¸âƒ£ MODELO
ğŸ“„ Jugador.java
public class Jugador {
    private int id;
    private String nombre;

    public Jugador(int id, String nombre) {
        this.id = id;
        this.nombre = nombre;
    }

    public int getId() { return id; }
    public String getNombre() { return nombre; }
}

ğŸ“„ Partida.java
public class Partida {
    private int jugadorId;
    private int puntaje;
    private int disparos;
    private long duracionSeg;

    public Partida(int jugadorId, int puntaje, int disparos, long duracionSeg) {
        this.jugadorId = jugadorId;
        this.puntaje = puntaje;
        this.disparos = disparos;
        this.duracionSeg = duracionSeg;
    }

    public int getJugadorId() { return jugadorId; }
    public int getPuntaje() { return puntaje; }
    public int getDisparos() { return disparos; }
    public long getDuracionSeg() { return duracionSeg; }
}

ğŸ”Œ 5ï¸âƒ£ DAO + ORACLE
ğŸ“„ ConexionOracle.java
import java.sql.Connection;
import java.sql.DriverManager;

public class ConexionOracle {

    private static final String URL =
            "jdbc:oracle:thin:@localhost:1521/orclpdb";
    private static final String USER = "PAINTBALL";
    private static final String PASS = "1234";

    public static Connection getConexion() throws Exception {
        return DriverManager.getConnection(URL, USER, PASS);
    }
}

ğŸ“„ PartidaDAO.java (Stored Procedure)
import java.sql.CallableStatement;
import java.sql.Connection;

public class PartidaDAO {

    public void guardarPartida(Partida p) {
        String sql = "{ call SP_GUARDAR_PARTIDA(?,?,?,?) }";

        try (Connection con = ConexionOracle.getConexion();
             CallableStatement cs = con.prepareCall(sql)) {

            cs.setInt(1, p.getJugadorId());
            cs.setInt(2, p.getPuntaje());
            cs.setInt(3, p.getDisparos());
            cs.setLong(4, p.getDuracionSeg());

            cs.execute();
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
}

ğŸ”Š 6ï¸âƒ£ Sonidos

ğŸ“ UbicaciÃ³n:
/resources/sounds/

shoot.wav

hit.wav

gameover.wav

ğŸ“„ SoundPlayer.java
import javax.sound.sampled.*;
import java.io.File;

public class SoundPlayer {

    public static void play(String file) {
        try {
            AudioInputStream audio =
                    AudioSystem.getAudioInputStream(new File(file));
            Clip clip = AudioSystem.getClip();
            clip.open(audio);
            clip.start();
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
}

ğŸ§  7ï¸âƒ£ Motor del Juego
ğŸ“„ GameEngine.java
public class GameEngine {

    private int puntaje;
    private int disparos;
    private long inicio;

    public void iniciar() {
        inicio = System.currentTimeMillis();
    }

    public void disparar() {
        disparos++;
        SoundPlayer.play("resources/sounds/shoot.wav");
    }

    public void impacto() {
        puntaje += 10;
        SoundPlayer.play("resources/sounds/hit.wav");
    }

    public Partida finalizar(int jugadorId) {
        SoundPlayer.play("resources/sounds/gameover.wav");
        long duracion = (System.currentTimeMillis() - inicio) / 1000;
        return new Partida(jugadorId, puntaje, disparos, duracion);
    }

    public int getPuntaje() { return puntaje; }
}

ğŸ® 8ï¸âƒ£ Interfaz GrÃ¡fica (Swing)
ğŸ“„ GamePanel.java
import javax.swing.*;
import java.awt.*;
import java.awt.event.*;

public class GamePanel extends JPanel {

    private GameEngine engine = new GameEngine();

    public GamePanel() {
        setBackground(Color.BLACK);
        engine.iniciar();

        addMouseListener(new MouseAdapter() {
            public void mouseClicked(MouseEvent e) {
                engine.disparar();
                engine.impacto();
                repaint();
            }
        });
    }

    protected void paintComponent(Graphics g) {
        super.paintComponent(g);

        g.setColor(Color.GREEN);
        g.setFont(new Font("Arial", Font.BOLD, 20));
        g.drawString("Puntaje: " + engine.getPuntaje(), 20, 30);

        g.setColor(Color.RED);
        g.fillOval(200, 200, 40, 40); // objetivo
    }

    public void finalizarJuego() {
        Partida p = engine.finalizar(1);
        new PartidaDAO().guardarPartida(p);
    }
}
ğŸ“„ MainFrame.java
import javax.swing.*;

public class MainFrame extends JFrame {

    public MainFrame() {
        setTitle("ğŸ¨ Paintball Battle");
        setSize(800, 600);
        setDefaultCloseOperation(EXIT_ON_CLOSE);
        setLocationRelativeTo(null);
        add(new GamePanel());
        setVisible(true);
    }
}

â–¶ï¸ 9ï¸âƒ£ Main
import javax.swing.SwingUtilities;

public class Main {
    public static void main(String[] args) {
        SwingUtilities.invokeLater(MainFrame::new);
    }
}

ğŸ† 10ï¸âƒ£ Ranking de Jugadores (SQL)
SELECT j.nombre,
       MAX(p.puntaje) AS MEJOR_PUNTAJE
FROM jugador j
JOIN partida p ON j.id = p.jugador_id
GROUP BY j.nombre
ORDER BY MEJOR_PUNTAJE DESC;
ğŸ“ Valor Profesional

âœ” Persistencia real con Oracle 19c

âœ” Uso de Stored Procedure

âœ” Sonido con javax.sound.sampled / .
âœ” Arquitectura limpia y mantenible

âœ” Ideal para proyecto final o portafolio profesional
